<link rel="stylesheet" href="app/style/css/roomBooking.css">
<div class="container-fluid container-center-1">
    <form  autocomplete="off" novalidate class="d-flex flex-column gap-25" name="myForm" ng-submit="submitForm1()">
        <ng-form ng-hide="roomBookingDetailsForm" name="subForm1" novalidate>
            <div class="d-flex flex-column gap-25">
            <h1 class="text-center">Room booking details</h1>
            <div  class="d-flex justify-content-around gap-25" id="flex">
                <div class=" col-lg-4 col-md-6 col-sm-8 d-flex flex-column">
                    <div class="form-group">
                        <label class="m-0" for="name"> Name </label>
                        <input type="text" class="form-control" id="name" name="fullname" ng-model="fullname" placeholder="Enter Full Name" aria-describedby="nameInputField" ng-required="true">
                        <span ng-show="fullname | onlyAlphabets:this"> {{ validationStatus }}</span>
                        <span ng-show="subForm1.$submitted && subForm1.fullname.$error.required">Name is required</span>
                    </div>
                    <div class="form-group">
                        <label class="m-0" for="gender"> Gender </label>
                        <select class="form-control" name="gender" id="gender" ng-model="gender" aria-describedby="genderInputField" ng-required="true">
                            <option value disabled selected hidden>Choose Gender</option>
                            <option value="{{ i }}" ng-repeat="i in genders"> {{ i }}
                        </select>
                        <span ng-show="subForm1.$submitted && subForm1.gender.$error.required">Gendermust be choosen</span>
                    </div>
                    <div class="form-group">
                        <label class="m-0" for="emailId"> Email ID</label>
                        <input type="text" ng-blur="isValidEmail()" name="email" class="form-control" id="emailId" ng-model="email" placeholder="Enter E-mail Address" aria-describedby="emailIdInputField" ng-required="true">
                        <span ng-show="subForm1.$submitted && subForm1.email.$error.required">E-Mail address is required</span>
                        <span ng-show="emailError">Please enter a valid email address.</span>
                    </div>
                    <div class="form-group">
                        <label class="m-0" for="idtype"> ID Type</label>
                        <select class="form-control" name="idtype" id="idtype" ng-model="idtype" aria-describedby="idTypeInputField" ng-required="true">
                            <option value disabled selected hidden>Choose Government ID Type</option>
                            <option value="{{ i }}" ng-repeat="i in idType">{{ i }}
                        </select>
                        <span ng-show="subForm1.$submitted && subForm1.idtype.$error.required">Government ID type must be choosen</span>
                    </div>
                </div>    
                <div class="col-lg-4 col-md-6 col-sm-8 d-flex flex-column">
                    <div class="form-group">
                        <label class="m-0" for="age"> Age</label>
                        <input type="number" class="form-control" id="age" name="age" ng-model="age" placeholder="Enter Age" aria-describedby="ageInputField" ng-required="true">
                        <span ng-show="age && age < 18 || age > 120">Please enter a number between 18 - 120 </span>
                        <span ng-show="subForm1.$submitted && subForm1.age.$error.required">Age is required</span>
                    </div>
                    <div class="form-group">
                        <label class="m-0" for="purpose"> Purpose</label>
                        <input type="text" maxlength="50"  ng-change="remainingCharacters()" ng-blur="clear()" class="form-control" id="purpose" name="purpose" ng-model="purpose" placeholder="Enter Purpose of Booking" aria-describedby="purposeInputField" ng-required="true">
                        <span ng-show="subForm1.$submitted && subForm1.purpose.$error.required">Purpose is required</span>
                        <span ng-show="purposeText">{{validationStatus}}</span>
                    </div>
                    <div class="form-group">
                        <label class="m-0" for="phonenumber"> Phone Number</label>
                        <input type="text" minlength="8" maxlength="10" name="phonenumber"  oninput="this.value = this.value.replace(/\D+/g, '')" ngPattern="[0-9]{10}" ng-model="phonenumber" class="form-control" id="phonenumber"  placeholder="Enter Phone Number"  aria-describedby="phoneNumberInputField"  ng-required="true">
                        <span ng-show="subForm1.phonenumber.$error.minlength || subForm1.$error.maxlength">Phonenumber length must be between 8 - 10</span>
                        <span ng-show="subForm1.$submitted && subForm1.phonenumber.$error.required">Phone number is required</span>
                    </div>
                    <div class="form-group">
                        <label class="m-0" for="idnumber"> ID Number</label>
                        <input type="text" class="form-control" id="idnumber" name="idnumber" ng-model="idnumber" placeholder="Enter Government ID Number" aria-describedby="emailIdInputField" ng-required="true">
                        <span ng-show="idnumber | alphaNumerics:this">{{ validationStatus }}</span>
                        <span ng-show="subForm1.$submitted && subForm1.idnumber.$error.required">ID number is required</span>
                    </div>
                </div>
            </div> 
            </div>  
        </ng-form> 
        <ng-form ng-if="roomBookingDetailsForm"  name="subForm2"  novalidate>
            <div class="d-flex flex-column gap-25">
            <h1 class="text-center">Additional Requirements</h1>
            <div class="d-flex justify-content-around " id="flex">
                <div class="col-lg-4 col-md-6 col-sm-8 d-flex flex-column">
                    <div class="form-group ">
                        <label class="m-0" for="roomtype">Room type</label>
                        <div class="d-flex gap-100 " ng-init="roomtype='AC'">
                            <div class="form-check " >
                                <input type="radio" class="form-check-input" ng-model="roomtype" value="AC" aria-describedby="roomType1InputField" >
                                <label class="form-check-label">  AC </label>
                              </div>
                              <div class="form-check">
                                <input type="radio" class="form-check-input" ng-model="roomtype" value="NON - AC" aria-describedby="roomType2InputField"> 
                                <label class="form-check-label" for="radio2"> Non- AC </label>
                              </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="m-0" for="checkindate"> Check-In Date</label>
                        <input class="form-control" name="checkindate" id="checkindate" ng-model="checkindate" onfocus="{this.type = 'date'}" onblur="this.type= 'text'"  placeholder="Choose Check-In Date" aria-describedby="checkInDateInputField" required>
                        <span ng-show="subForm2.$submitted && subForm2.checkindate.$error.required">Room check-in date must be choosen</span>
                    </div>
                    <div class="form-group">
                        <label class="m-0" for="expectedcheckoutdate"> Expected Check-Out Date </label>
                        <input class="form-control" id="expectedcheckoutdate" ng-model="expectedcheckoutdate" onfocus="{this.type = 'date'}" onblur="this.type= 'text'" placeholder="Choose Expected Check-Out date" aria-describedby="expectedCheckOutDateInputField">
                    </div>
                    <div class="form-group">
                        <label class="m-0"> Services Provider</label>
                        <div class="d-flex gap-100 ">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" ng-model="servicesprovided1" aria-describedby="servicesProvider1InputField" >
                            <label class="form-check-label">Catering</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" ng-model="servicesprovided2" aria-describedby="servicesProvided2InputField">
                            <label class="form-check-label">Laundry services</label>
                        </div>
                        </div>
                    </div>
                    
                    <div ng-show="servicesprovided1">
                        <label class="m-0" for="cateringType"> Catering Type </label>
                        <select class="form-control" name="catering" id="cateringType" ng-model="cateringType" aria-describedby="cateringTypeInputField" required>
                            <option value disabled selected hidden> Choose Catering Type </option>
                            <option value="{{ i }}" ng-repeat="i in cateringTypes"> {{ i }}
                        </select>
                        <span ng-show="subForm2.$submitted && subForm2.catering.$error.required">Catering type must be chosen</span>
                    </div>
                </div>      
                <div class="col-lg-4 col-md-6 col-sm-8 d-flex flex-column">
                    <div class="form-group">
                        <label class="m-0" >  Room Size</label>
                        <custom-dropdown template="choose a size" temp="template1" id="name"
                        label="Room Size"
                        options="roomSizes" selected-option="selectedOption"></custom-dropdown>
                        <span ng-show="subForm2.$submitted && subForm2.roomSize.$error.required">Room size must be choosen</span>
                    </div>
                     
                 
                    <div class="form-group">
                        <label class="m-0" for="checkintime"> Check-In Time</label>
                        <input class="form-control" name="checkintime" id="checkintime" ng-model="checkintime" onfocus="{this.type = 'time'}" onblur="this.type= 'text'" placeholder="Choose Check-In time" aria-describedby="checkInTimeInputField" required>
                        <span ng-show="subForm2.$submitted && subForm2.checkintime.$error.required">Room check-in time must be choosen</span>
                 
                    </div>
                    <div class="form-group">
                        <label class="m-0" for="expectedcheckouttime"> Expected Check-Out Date </label>
                        <input class="form-control" id="expectedcheckouttime" ng-model="expectedcheckouttime" onfocus="{this.type = 'time'}" onblur="this.type= 'text'" placeholder="Choose Expected Check-Out time" aria-describedby="expectedCheckOutTimeInputField">
                    </div>
                   
                    <div ng-show="servicesprovided2" >
                        <label class="m-0" for="laundryType"> Laundry Type</label>
                        <select class="form-control" name="laundryType" id="laundryType" ng-model="laundryType" aria-describedby="laundryInputField" required>
                            <option value disabled selected hidden>Choose Laundry Type</option>
                                <option value="{{ i }}" ng-repeat="i in laundryTypes">{{ i }}
                        </select>
                        <span ng-show="subForm2.$submitted && subForm2.laundryType.$error.required">Laundry type must be chosen</span>
                     
                    </div>
                   
                </div>
              
            </div> 
         
             
            </div>
        </div>
        </ng-form>                
        <div class="text-center d-flex justify-content-center form-gap-2">
            <button type="submit" ng-click="submitForm()" class="btn btn-format btn-format-1">Next</button>
            <button class="btn btn-format btn-format-1" disabled>View Booking</button>
        </div>
        <div class="modal " id="charges" tabindex="-1" role="dialog" aria-labelledby="#charges" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content justify-content-center">
                    <div class="modal-body">
                        <h1 class="modal-title text-center" id="exampleModalLabel">CHARGES</h1>
                        <div class="col-12 d-flex flex-column justify-content-center" id="modal-gap">
                            <form autocomplete="off" class="d-flex flex-column ">
                                <div class="form-group d-flex align-items-center ">
                                    <label class="col-6 m-0" for="roomCharges"> Room charges </label>
                                    <input type="number" class="form-control" id="roomCharges" aria-describedby="roomChargesInputField">
                                </div>
                                <div class="form-group d-flex align-items-center ">
                                    <label class="col-6 m-0" for="cateringCharges"> Catering charges </label>
                                    <input type="number" class="form-control" id="cateringCharges" aria-describedby="cateringChargesInputField">
                                </div>
                                <div class="form-group d-flex align-items-center ">
                                    <label class="col-6 m-0" for="laundryCharges"> Laundry charge</label>
                                    <input type="number" oninput="this.value = this.value.replace(/\D+/g, '')" pattern="[0-9]{10}" class="form-control " aria-describedby="laundryChargeInputField">
                                </div>
                                <div class="form-group d-flex align-items-center ">
                                    <label class="col-6 m-0" for="taxAmount"> Tax Amount(18%) </label>
                                    <input type="number" class="form-control " id="taxAmount" aria-describedby="taxAmountInputField">
                                </div>
                                <div class="form-group d-flex align-items-center ">
                                    <label class="col-6 m-0" for="totalCost"> Total cost </label>
                                    <input type="number" class="form-control " id="totalAmount"
                                        aria-describedby="totalCostInputField">
                                </div>
                                <div class="text-center d-flex form-gap-3 justify-content-center">
                                    <button type="submit" class="btn btn-format btn-format-1">Submit</button>
                                    <button type="cancel" class="btn btn-format btn-format-1">Cancel</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

        

